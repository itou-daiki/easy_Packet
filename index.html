<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>easyPacket - ネットワーク学習Webアプリ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1>🌐 easyPacket - ネットワーク学習Webアプリ</h1>
        <p class="subtitle">Created by Dit-Lab. (Daiki ITO)</p>
    </header>

    <div class="container">
        <!-- 左エリア: 学習・課題 -->
        <aside class="tutorial-area">
            <h2>📚 チュートリアル</h2>
            <div id="tutorial-content">
                <h3>🎓 ようこそ easyPacket へ！</h3>
                <p>ネットワークの基礎を、実際にコマンドを試しながら楽しく学びましょう。</p>

                <div class="getting-started">
                    <h4>📝 使い方</h4>
                    <ol>
                        <li><strong>右側のボタン</strong>をクリックすると、コマンドが自動入力されます</li>
                        <li><strong>中央のコンソール</strong>にコマンドを直接入力してもOK</li>
                        <li><strong>Enterキー</strong>で実行、<strong>↑↓キー</strong>で履歴表示</li>
                    </ol>
                </div>

                <div class="lesson">
                    <h4>🔰 レッスン1: nslookup を試そう</h4>
                    <p><strong>何をするコマンド？</strong><br>
                    ウェブサイトの名前（ドメイン名）から、実際の住所（IPアドレス）を調べます。</p>
                    <p><strong>試してみよう：</strong></p>
                    <code>nslookup google.com</code>
                    <p class="hint">💡 右側の「nslookup google.com」ボタンを押してみましょう！</p>
                </div>

                <div class="lesson">
                    <h4>🔰 レッスン2: ping でサーバーに接続</h4>
                    <p><strong>何をするコマンド？</strong><br>
                    サーバーが元気に動いているか、応答時間はどのくらいかを確認します。</p>
                    <p><strong>試してみよう：</strong></p>
                    <code>ping google.com</code>
                    <p class="hint">💡 パケットが飛んでいくアニメーションも見られます！</p>
                </div>

                <div class="lesson">
                    <h4>🔰 レッスン3: traceroute で経路を調査</h4>
                    <p><strong>何をするコマンド？</strong><br>
                    あなたのPCからサーバーまで、パケットがどんな道を通るか追跡します。</p>
                    <p><strong>試してみよう：</strong></p>
                    <code>traceroute google.com</code>
                    <p class="hint">💡 少し時間がかかります。ルーターを1つずつ通過する様子を見てみましょう！</p>
                </div>

                <div class="lesson">
                    <h4>🔰 レッスン4: ipconfig で自分の情報を確認</h4>
                    <p><strong>何をするコマンド？</strong><br>
                    あなたのPCのIPアドレスやネットワーク設定を表示します。</p>
                    <p><strong>試してみよう：</strong></p>
                    <code>ipconfig</code>
                    <p class="hint">💡 あなたの実際のグローバルIPアドレスが表示されます！</p>
                </div>

                <div class="challenge">
                    <h4>🎯 チャレンジ問題</h4>
                    <p>すべてのレッスンが終わったら、試してみましょう：</p>
                    <ul>
                        <li>yahoo.co.jp のIPアドレスは？</li>
                        <li>github.com までの経路は何ホップ？</li>
                        <li>好きなウェブサイトで試してみよう！</li>
                    </ul>
                </div>
            </div>
        </aside>

        <!-- 中央エリア: 実行・可視化 -->
        <main class="visualization-area">
            <div class="network-diagram">
                <h2>🌐 ネットワーク模式図</h2>
                <canvas id="network-canvas" width="800" height="400"></canvas>
            </div>

            <div class="console-wrapper">
                <h2>💻 コンソール</h2>
                <div id="console-output"></div>
                <div class="console-input-wrapper">
                    <span class="prompt">$ </span>
                    <textarea id="console-input" placeholder="コマンドを入力してください (例: ping google.com) ↑↓キーで履歴表示"></textarea>
                </div>
            </div>
        </main>

        <!-- 右エリア: コマンド・用語 -->
        <aside class="commands-area">
            <div class="command-buttons">
                <h2>⚡ クイックコマンド</h2>
                <p class="command-help">クリックするとコマンドが実行されます</p>

                <div class="cmd-group">
                    <h3>基本コマンド</h3>
                    <button class="cmd-btn" data-cmd="nslookup google.com" title="ドメイン名からIPアドレスを調べる">
                        📍 nslookup google.com
                        <small>IPアドレスを調べる</small>
                    </button>
                    <button class="cmd-btn" data-cmd="ping google.com" title="サーバーの応答を確認">
                        🏓 ping google.com
                        <small>応答を確認</small>
                    </button>
                    <button class="cmd-btn" data-cmd="traceroute google.com" title="パケットの経路を追跡">
                        🗺️ traceroute google.com
                        <small>経路を追跡</small>
                    </button>
                    <button class="cmd-btn" data-cmd="ipconfig" title="自分のIPアドレスを表示">
                        💻 ipconfig
                        <small>自分の情報を表示</small>
                    </button>
                </div>

                <div class="cmd-group">
                    <h3>その他</h3>
                    <button class="cmd-btn" data-cmd="ping github.com" title="GitHubサーバーに接続">
                        🐙 ping github.com
                    </button>
                    <button class="cmd-btn clear" data-cmd="clear" title="画面をクリア">
                        🧹 clear
                        <small>画面をクリア</small>
                    </button>
                </div>
            </div>

            <div class="command-guide">
                <h2>📘 コマンド解説</h2>

                <div class="guide-item">
                    <h4>nslookup</h4>
                    <p><strong>使い方:</strong> nslookup ドメイン名</p>
                    <p><strong>例:</strong> nslookup google.com</p>
                    <p>ドメイン名からIPアドレスを調べます。</p>
                    <p class="warning">⚠️ URL形式（https://など）は使えません</p>
                </div>

                <div class="guide-item">
                    <h4>ping</h4>
                    <p><strong>使い方:</strong> ping ドメイン名</p>
                    <p><strong>例:</strong> ping google.com</p>
                    <p>サーバーが応答するか確認し、応答時間を測定します。</p>
                    <p class="warning">⚠️ ドメイン名のみを指定してください</p>
                </div>

                <div class="guide-item">
                    <h4>traceroute</h4>
                    <p><strong>使い方:</strong> traceroute ドメイン名</p>
                    <p><strong>例:</strong> traceroute google.com</p>
                    <p>パケットがどのルーターを経由するか追跡します。</p>
                    <p class="warning">⚠️ パス（/hita/など）は含めないでください</p>
                </div>

                <div class="guide-item">
                    <h4>ipconfig</h4>
                    <p><strong>使い方:</strong> ipconfig</p>
                    <p>自分のPCのIPアドレスを表示します。</p>
                </div>

                <div class="guide-item">
                    <h4>help</h4>
                    <p><strong>使い方:</strong> help</p>
                    <p>利用可能なコマンド一覧を表示します。</p>
                </div>

                <div class="guide-item">
                    <h4>clear</h4>
                    <p><strong>使い方:</strong> clear</p>
                    <p>コンソール画面をクリアします。</p>
                </div>
            </div>

            <div class="glossary">
                <h2>📖 用語集</h2>
                <div class="term">
                    <h4>IPアドレス</h4>
                    <p>ネットワーク上のコンピュータを識別する番号。住所のようなもの。</p>
                </div>
                <div class="term">
                    <h4>ドメイン名</h4>
                    <p>Webサイトの住所を表す名前。例: google.com、github.com。人間が覚えやすいように作られている。</p>
                </div>
                <div class="term">
                    <h4>DNS</h4>
                    <p>Domain Name System。ドメイン名をIPアドレスに変換する仕組み。</p>
                </div>
                <div class="term">
                    <h4>パケット</h4>
                    <p>ネットワークで送受信されるデータの小さな単位。荷物のようなもの。</p>
                </div>
                <div class="term">
                    <h4>ルーター</h4>
                    <p>パケットを目的地まで中継する装置。交差点のようなもの。</p>
                </div>
                <div class="term">
                    <h4>TTL (Time To Live)</h4>
                    <p>パケットが経由できるルーターの最大数。無限ループを防ぐ。</p>
                </div>
            </div>
        </aside>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="simulator.js"></script>
    <script src="visualizer.js"></script>
    <script src="app.js"></script>
</body>
</html>
